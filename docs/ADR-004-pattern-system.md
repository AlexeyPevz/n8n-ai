# ADR-004: Pattern System для AI Planner

Дата: 2025-08-29
Статус: Accepted

## Контекст
- Анализ 1268 реальных воркфлоу показал повторяющиеся паттерны
- Пользователи часто создают похожие воркфлоу
- LLM может галлюцинировать несуществующие ноды

## Решение
- Библиотека предопределенных паттернов (21 паттерн)
- Pattern Matcher с fuzzy search
- Scoring система для ранжирования
- Категоризация паттернов

## Альтернативы
- Полностью полагаться на LLM - ненадежно
- Жесткие шаблоны - негибко
- Только rule-based - ограниченно

## Последствия
- Детерминированная генерация для частых случаев
- Возможность комбинировать паттерны
- База для обучения будущей ML модели