# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å n8n-ai

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ü—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–±–æ—Ä–∫–æ–π TypeScript

**–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ TypeScript –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –ø–∞–∫–µ—Ç–æ–≤, –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π.

**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript –≤ `packages/n8n-ai-hooks/tsconfig.json`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `moduleResolution`, `esModuleInterop`, `allowSyntheticDefaultImports`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ `src/index.ts` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏

### 2. –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π Fastify

**–ü—Ä–æ–±–ª–µ–º–∞**: `@fastify/rate-limit` –≤–µ—Ä—Å–∏–∏ 10.x —Ç—Ä–µ–±—É–µ—Ç Fastify 5.x, –Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Fastify 4.x.

**–†–µ—à–µ–Ω–∏–µ**:
- –ü–æ–Ω–∏–∂–µ–Ω–∞ –≤–µ—Ä—Å–∏—è `@fastify/rate-limit` —Å `^10.3.0` –¥–æ `^8.0.3` –≤ `packages/n8n-ai-orchestrator/package.json`
- –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `pnpm install`

### 3. –ü—Ä–æ–±–ª–µ–º—ã —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –º–æ–¥—É–ª–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞**: `@n8n-ai/hooks` –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª `index.d.ts` —Ñ–∞–π–ª.

**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏ `src/index.ts`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞

## üöÄ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### –†–∞–±–æ—Ç–∞—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- ‚úÖ **n8n-ai-orchestrator**: –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 3000
- ‚úÖ **n8n-ai-panel**: –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 5173
- ‚úÖ **API endpoints**: –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **AI –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ workflow —á–µ—Ä–µ–∑ API —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–°–±–æ—Ä–∫–∞**: –í—Å–µ –ø–∞–∫–µ—Ç—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### –î–æ—Å—Ç—É–ø–Ω—ã–µ endpoints:
- `GET /api/v1/ai/health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `GET /api/v1/ai/metrics` - –ú–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- `POST /plan` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ workflow
- `GET /introspect/nodes` - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –Ω–æ–¥
- `POST /graph/:id/batch` - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –∫ workflow

## üõ†Ô∏è –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫:
```bash
cd /workspace
./scripts/start-ai-stack.sh
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫:
```bash
# 1. Orchestrator
cd packages/n8n-ai-orchestrator
npx tsx src/test-server.ts &

# 2. UI Panel
cd packages/n8n-ai-panel
npx vite preview --port 5173 &
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API:
```bash
# Health check
curl http://localhost:3000/api/v1/ai/health

# –°–æ–∑–¥–∞–Ω–∏–µ workflow
curl -X POST http://localhost:3000/plan \
  -H "Content-Type: application/json" \
  -d '{"prompt": "Create webhook that sends data to Slack"}'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ UI:
- –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173 –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- UI –ø–∞–Ω–µ–ª—å –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

## ‚ö†Ô∏è –û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å n8n
- **–ü—Ä–æ–±–ª–µ–º–∞**: AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –æ—Å–Ω–æ–≤–Ω—ã–º n8n –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- **–°—Ç–∞—Ç—É—Å**: –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
- **–†–µ—à–µ–Ω–∏–µ**: –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "AI Tools" –≤ n8n –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### 2. n8n-ai-unified –ø–∞–∫–µ—Ç
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–∞–∫–µ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å n8n
- **–°—Ç–∞—Ç—É—Å**: –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
- **–†–µ—à–µ–Ω–∏–µ**: –ù—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å n8n**: –î–æ–±–∞–≤–∏—Ç—å AI Tools –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ unified –ø–∞–∫–µ—Ç–∞**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å e2e —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –°–æ–∑–¥–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
pnpm build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
pnpm run check:types

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pnpm test

# –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
rm -rf packages/*/dist
pnpm build
```

## üìä –õ–æ–≥–∏

–õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
- Orchestrator: `/tmp/orchestrator.log`
- UI Panel: `/tmp/ui-panel.log`

–î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
```bash
tail -f /tmp/orchestrator.log /tmp/ui-panel.log
```